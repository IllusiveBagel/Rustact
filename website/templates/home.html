{% extends "base.html" %}

{% block content %}
  <header>
    <nav>
      <a class="brand" href="{{ get_url(path="/") }}" aria-label="Rustact">
        <img src="{{ get_url(path="rustact-logo.svg") }}" alt="Rustact" width="180" height="30" loading="lazy" />
      </a>
      <div class="links">
        <a href="#install">Install</a>
        <a href="#features">Features</a>
        <a href="#examples">Examples</a>
        <a href="{{ get_url(path="/docs") }}">Docs</a>
        <a href="#community">Community</a>
        <a href="{{ config.extra.crate_url }}" target="_blank" rel="noreferrer">Crate</a>
        <a href="{{ config.extra.repo_url }}" target="_blank" rel="noreferrer">GitHub</a>
      </div>
    </nav>
    <section class="hero" id="top">
      <div>
        <span class="tagline">Add to any async Rust app</span>
        <h1>Drop Rustact into your project and get a full TUI stack.</h1>
        <p>
          Install the crate, render components with familiar hooks, and let the runtime handle events, effects, styling, and
          rendering.
        </p>
        <div class="hero-cta">
          <a class="button-primary" href="{{ get_url(path="/docs/tutorial") }}">Build your first app</a>
          <a class="button-ghost" href="{{ config.extra.docs_url }}">Explore API docs →</a>
        </div>
        <div class="stat-grid">
          <div class="stat">
            <span>Install</span>
            <code>cargo add rustact</code>
          </div>
          <div class="stat">
            <span>Docs</span>
            <a href="{{ get_url(path="/docs") }}">Guides & tutorial</a>
          </div>
          <div class="stat">
            <span>Source</span>
            <a href="{{ config.extra.repo_url }}" target="_blank" rel="noreferrer">github.com/IllusiveBagel/rustact</a>
          </div>
        </div>
      </div>
      <div class="card">
        <h3>Plug-and-play snippet</h3>
        <p>Add a component and run the runtime in your app.</p>
        <pre><code>cargo add rustact</code></pre>
        <pre><code>use rustact::{component, App, Element, Scope};

fn dashboard(ctx: &mut Scope) -> Element {
  let (count, _set_count) = ctx.use_state(|| 0);
  Element::vstack(vec![
    Element::text(format!("Count: {count}")),
    Element::text("Press +/- to update"),
  ])
}

#[tokio::main]
async fn main() -> anyhow::Result<()> {
  App::new("dashboard", component("Dashboard", dashboard)).run().await
}</code></pre>
      </div>
    </section>
  </header>

  <section id="install">
    <p class="eyebrow">Use Rustact in your project</p>
    <h2>Install, wire, iterate.</h2>
    <div class="card-grid">
      <article class="card">
        <h3>1 · Add the crate</h3>
        <p>Stay in your own repo—just add the dependency.</p>
        <pre><code>cargo add rustact</code></pre>
        <p>Need Tokio, tracing, or Ratatui? The docs highlight matching versions.</p>
      </article>
      <article class="card">
        <h3>2 · Render your UI</h3>
        <p>Wrap a function with <code>component("Name", render)</code>, compose elements, and call <code>App::new(...).run()</code>.</p>
        <p>Follow the <a href="{{ get_url(path="/docs/tutorial") }}">tutorial</a> or skim the <a href="{{ get_url(path="/docs/architecture") }}">architecture guide</a> to understand the runtime.</p>
      </article>
      <article class="card">
        <h3>3 · Optional scaffolding</h3>
        <p>Prefer a starter repo? Generate one in place:</p>
        <pre><code>cargo install cargo-generate
cargo generate \
  --git https://github.com/IllusiveBagel/rustact \
  --branch main \
  --path templates/rustact-app</code></pre>
        <p>Examples are available too, but they’re not required.</p>
      </article>
    </div>
  </section>

  <section id="features">
    <p class="eyebrow">What you get</p>
    <h2>React-style ergonomics, TUI-native power.</h2>
    <div class="card-grid">
      <article class="card">
        <h3>Components & hooks</h3>
        <p>Model UI with <code>component("Name", render)</code>, then reach for familiar hooks like <code>use_state</code>, <code>use_reducer</code>, <code>use_effect</code>, <code>use_context</code>, and <code>use_text_input</code>.</p>
        <ul>
          <li>Reducer + ref handles for complex state.</li>
          <li>Context stack for theming and services.</li>
          <li>Text inputs with validation + focus control.</li>
        </ul>
      </article>
      <article class="card">
        <h3>Async runtime</h3>
        <p>Tokio drives terminal IO, ticks, shutdown, and effect scheduling. Inject custom drivers or run in headless mode for deterministic tests.</p>
        <ul>
          <li>Event bus for keyboard, mouse, resize, tick.</li>
          <li>View diffing keeps renders efficient.</li>
          <li>Tracing spans wrap renders/events/shutdown.</li>
        </ul>
      </article>
      <article class="card">
        <h3>Widgets & styling</h3>
        <p>Lists, tables, trees, forms, gauges, tabs, layered layouts, modals, toast stacks, and secure text inputs—styled via a CSS-inspired <code>Stylesheet</code>.</p>
        <ul>
          <li>Mouse hitboxes for buttons/inputs.</li>
          <li><code>App::watch_stylesheet</code> + env flag for hot reload.</li>
          <li>Custom properties (<code>:root</code>) for palettes.</li>
        </ul>
      </article>
    </div>
  </section>

  <section id="examples">
    <p class="eyebrow">Examples</p>
    <h2>Optional sandboxes when you need inspiration.</h2>
    <div class="showcase">
      <article class="showcase-card">
        <h3>Demo playground</h3>
        <p>Kitchen-sink app that exercises hooks, widgets, and CSS tokens: counters, stats, tables, trees, forms, and live validation.</p>
        <p><strong>Run:</strong> <code>cd examples/rustact-demo && RUSTACT_WATCH_STYLES=1 cargo run</code></p>
      </article>
      <article class="showcase-card">
        <h3>Ops dashboard</h3>
        <p>Incident-inspired workflow with tabs, overlays, modals, and toast stacks streaming faux deployments/logs.</p>
        <p><strong>Run:</strong> <code>cd examples/ops-dashboard && cargo run</code></p>
      </article>
    </div>
  </section>

  <section id="docs">
    <p class="eyebrow">Docs & resources</p>
    <h2>Everything else lives two clicks away.</h2>
    <div class="card-grid">
      <article class="card">
        <h3>Tutorial</h3>
        <p>Hands-on walk-through that takes you from <code>cargo new</code> to a live dashboard.</p>
        <a class="button-ghost" href="{{ get_url(path="/docs/tutorial") }}">Open tutorial →</a>
      </article>
      <article class="card">
        <h3>Architecture & styling</h3>
        <p>Deep dives into the runtime, hooks, renderer, and CSS-inspired styling system.</p>
        <div class="link-row">
          <a href="{{ get_url(path="/docs/architecture") }}">Architecture</a>
          <a href="{{ get_url(path="/docs/styling") }}">Styling</a>
        </div>
      </article>
      <article class="card">
        <h3>API reference</h3>
        <p>Browse all exported types via rustdoc—no cloning needed.</p>
        <a class="button-primary" href="{{ config.extra.docs_url }}">Open rustdoc</a>
      </article>
      <article class="card">
        <h3>Roadmap & releases</h3>
        <p>Track priorities in <a href="https://github.com/IllusiveBagel/rustact/blob/main/docs/roadmap.md" target="_blank" rel="noreferrer">docs/roadmap.md</a> and follow <a href="https://github.com/IllusiveBagel/rustact/releases" target="_blank" rel="noreferrer">GitHub releases</a>.</p>
      </article>
    </div>
  </section>

  <section id="community">
    <p class="eyebrow">Community</p>
    <h2>Collaborate, file issues, and share feedback.</h2>
    <div class="card-grid">
      <article class="card">
        <h3>Contribute</h3>
        <p>Read the <a href="https://github.com/IllusiveBagel/rustact/blob/main/CONTRIBUTING.md" target="_blank" rel="noreferrer">contributing guide</a>, honor the <a href="https://github.com/IllusiveBagel/rustact/blob/main/CODE_OF_CONDUCT.md" target="_blank" rel="noreferrer">code of conduct</a>, and peek at <a href="https://github.com/IllusiveBagel/rustact/blob/main/MAINTAINERS.md" target="_blank" rel="noreferrer">maintainers</a>.</p>
        <p>CI already enforces fmt, clippy (<code>-D warnings</code>), tests, and docs so PRs stay healthy.</p>
      </article>
      <article class="card">
        <h3>Stay informed</h3>
        <p>Watch the crate on <a href="{{ config.extra.crate_url }}" target="_blank" rel="noreferrer">crates.io</a>, subscribe to <a href="https://github.com/IllusiveBagel/rustact/releases" target="_blank" rel="noreferrer">release notes</a>, or open a discussion in GitHub issues.</p>
      </article>
    </div>
  </section>

  <footer>
    <p>
      Built with ❤️ in Rust. Install from <a href="{{ config.extra.crate_url }}" target="_blank" rel="noreferrer">crates.io</a>, read the docs at <a href="{{ config.extra.docs_url }}">/api</a>, and star the project on <a href="{{ config.extra.repo_url }}" target="_blank" rel="noreferrer">GitHub</a>.
    </p>
  </footer>
{% endblock content %}
